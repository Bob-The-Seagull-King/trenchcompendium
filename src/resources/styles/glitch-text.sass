.glitch
    .glitch-active
        position: relative
        //color: white
        mix-blend-mode: lighten
        display: inline-block

        &:before,
        &:after
            content: attr(data-text)
            position: absolute
            top: 0
            width: 100%
            //clip: rect(0, 0, 0, 0)

        &:before
            left: -1px
            text-shadow: 1px 0 rgba(red,0.7)
            animation: glitch-loop-1 0.4s 3 linear forwards, glitch-loop-1 0.4s 3 linear  8.2s forwards

        &:after
            left: 1px
            text-shadow: -5px 0 rgba(blue,0.7)
            animation: glitch-loop-2 0.4s 3 ease-in-out forwards, glitch-loop-2 0.4s 3 ease-in-out 8.2s forwards


        @keyframes glitch-loop-1
            0%
                opacity: 0
            25%
                opacity: 1
            60%
                opacity: 0.1
            90%
                opacity: 0.9
            100%
                opacity: 0



        @keyframes glitch-loop-2
            0%
                top: -1px
                left: 1px
                clip: rect(50px, 9999px, 110px, 0)
            25%
                top: -6px
                left: 4px
                clip: rect(10px, 9999px, 40px, 0)
            50%
                top: -3px
                left: 2px
                clip: rect(120px, 9999px, 160px, 0)
            75%
                top: 0px
                left: -4px
                clip: rect(90px, 9999px, 110px, 0)
            99%
                top: -1px
                left: -1px
                clip: rect(0px, 9999px, 30px, 0)
            100%
                opacity: 0
                top: -1px
                left: -1px
                clip: rect(0px, 9999px, 30px, 0)


.cursed-image
    &.curse-active
        animation: hue-glitch 0.2s linear

        @keyframes hue-glitch
            0%
                filter: hue-rotate(0deg) brightness(1)
            5%
                filter: hue-rotate(60deg) saturate(150%) brightness(0.8)
            13%
                filter: hue-rotate(90deg) saturate(50%) brightness(0.7)
            25%
                filter: hue-rotate(30deg) saturate(666%) brightness(0.9)
            29%
                filter: hue-rotate(210deg) saturate(250%) brightness(1.4)
            50%
                filter: hue-rotate(180deg) saturate(213%) brightness(1)
            66%
                filter: hue-rotate(15deg) saturate(150%) brightness(0.7)
            75%
                filter: hue-rotate(3deg) saturate(666%) brightness(0.9)
            82%
                filter: hue-rotate(240deg) saturate(240%) brightness(1.4)
            90%
                filter: hue-rotate(240deg) saturate(400%) brightness(1.2)
            100%
                filter: hue-rotate(100deg) saturate(200%) brightness(0.8)









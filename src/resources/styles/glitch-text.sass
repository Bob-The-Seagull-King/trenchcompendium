.glitch
    .glitch-active
        position: relative
        //color: white
        mix-blend-mode: lighten
        display: inline-block

        &:before,
        &:after
            content: attr(data-text)
            position: absolute
            top: 0
            width: 100%
            //clip: rect(0, 0, 0, 0)

        &:before
            left: -1px
            text-shadow: 1px 0 rgba(red,0.7)
            animation: glitch-loop-1 0.4s 3 linear forwards, glitch-loop-1 0.4s 3 linear  8.2s forwards

        &:after
            left: 1px
            text-shadow: -5px 0 rgba(blue,0.7)
            animation: glitch-loop-2 0.4s 3 ease-in-out forwards, glitch-loop-2 0.4s 3 ease-in-out 8.2s forwards


        @keyframes glitch-loop-1
            0%
                opacity: 0
            25%
                opacity: 1
            60%
                opacity: 0.1
            90%
                opacity: 0.9
            100%
                opacity: 0



        @keyframes glitch-loop-2
            0%
                top: -1px
                left: 1px
                clip: rect(50px, 9999px, 110px, 0)
            25%
                top: -6px
                left: 4px
                clip: rect(10px, 9999px, 40px, 0)
            50%
                top: -3px
                left: 2px
                clip: rect(120px, 9999px, 160px, 0)
            75%
                top: 0px
                left: -4px
                clip: rect(90px, 9999px, 110px, 0)
            99%
                top: -1px
                left: -1px
                clip: rect(0px, 9999px, 30px, 0)
            100%
                opacity: 0
                top: -1px
                left: -1px
                clip: rect(0px, 9999px, 30px, 0)